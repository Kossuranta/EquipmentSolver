<mat-toolbar color="primary" class="app-toolbar">
  <span class="app-title" routerLink="/dashboard">Equipment Solver</span>
  @if (authService.isAuthenticated()) {
    <button mat-button routerLink="/browse" class="nav-link">
      <mat-icon>explore</mat-icon>
      Browse
    </button>
  }
  <span class="spacer"></span>
  <button mat-icon-button (click)="themeService.toggle()" [matTooltip]="themeService.isDark() ? 'Switch to light mode' : 'Switch to dark mode'">
    <mat-icon>{{ themeService.isDark() ? 'light_mode' : 'dark_mode' }}</mat-icon>
  </button>
  @if (authService.isAuthenticated()) {
    <button mat-button [matMenuTriggerFor]="userMenu">
      <mat-icon>account_circle</mat-icon>
      {{ authService.username() }}
    </button>
    <mat-menu #userMenu="matMenu">
      <button mat-menu-item (click)="logout()">
        <mat-icon>logout</mat-icon>
        <span>Logout</span>
      </button>
      <button mat-menu-item (click)="deleteAccount()" [disabled]="deleting()" class="delete-account-btn">
        <mat-icon color="warn">delete_forever</mat-icon>
        <span>Delete Account</span>
      </button>
    </mat-menu>
  }
</mat-toolbar>

<main class="app-content">
  <router-outlet />
</main>
